{% extends "index.html" %}

{% block content %}

  <nav class="navbar navbar-expand-lg bg-body-tertiary" style="height: 5% !important; padding-top: 1%; padding-bottom: 1.5%;">
    <div class="container-fluid">
      <form action="/show_timetable" method="POST">
        <div class="form-group d-flex align-items-center form-group-1">
          <label>Select Class:</label>
          <select name="sel_class" class="form-select" aria-label="Default select example" style="width: 205px !important;">
              <option selected disabled>Class</option>
              {% for class in class_res %}
                  <option value="{{ class[0]+' '+class[1] }}">{{ class[0]+' '+class[1] }}</option>
              {% endfor %}
          </select>
          <button type="submit">Submit</button>
        </div>
      </form>
      <form action="/show_timetable" method="POST">
        <div class="form-group d-flex align-items-center form-group-1">
          <label>Select Room:</label>
          <select name="sel_room" class="form-select" aria-label="Default select example" onchange="showColorRoom(this)">
              <option selected disabled>Room</option>
              {% for room in room_res %}
                  <option value="{{ room[0] }}">{{ room[0] }}</option>
              {% endfor %}
          </select>
          <button type="submit">Submit</button>
        </div>
      </form>
      <form action="/show_timetable" method="POST">
        <div class="form-group d-flex align-items-center form-group-1">
          <label>Select Faculty:</label>
          <select name="sel_fac" class="form-select" aria-label="Default select example" onchange="showColor()">
              <option selected disabled>Faculty</option>
              {% for faculty in fac_res %}
                  <option value="{{ faculty[0] }}">{{ faculty[0] }}</option>
              {% endfor %}
          </select>
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>
  </nav>
  {% block timeshow %}
  {% endblock timeshow %}


  <script>
    async function downloadPDF(){
      
      const { jsPDF } = window.jspdf;

      const canvas = await html2canvas(document.getElementById("time-table"));
      const imgData = canvas.toDataURL('image/png');

      const pdf = new jsPDF();
      // Add the image data to the PDF
      pdf.addImage(imgData, 'PNG', 10, 10, 190, 0); // Adjust dimensions as needed

      // Save the PDF
      pdf.save("Timetable.pdf");

    }

    function showColor(element){
      console.log(element.value);
    }
  
  </script>


{% endblock content %}